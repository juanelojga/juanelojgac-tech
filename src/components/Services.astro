---
import PriorityServiceCard from "./services/PriorityServiceCard.astro";
import SectionHeader from "./services/SectionHeader.astro";
import ServiceCard from "./services/ServiceCard.astro";
import type { Service } from "./services/types.ts";

interface Props {
  lang: "en" | "es";
}

const { lang } = Astro.props;

// Import translations
const translations = await import(`../i18n/${lang}.json`);
const t = translations.default.services;

// Split out the services: one priority card, and the rest as standard cards
const [priorityService, ...regularServices]: [Service, ...Service[]] = t.services;
---

<section id="services" class="bg-[#504d53] px-[5%] py-16 md:py-24 lg:py-28">
  <div class="container mx-auto max-w-[1280px]">
    <!-- Section Header -->
    <SectionHeader heading={t.heading} description={t.description} sectionLabel={t.sectionLabel} />

    <!-- Services Grid -->
    <div class="grid grid-cols-1 gap-8 lg:grid-cols-2">
      <!-- Priority Service Card -->
      <PriorityServiceCard service={priorityService} />

      <!-- Regular Services -->
      <div class="grid grid-cols-1 gap-8 sm:grid-cols-2">
        {regularServices.map((service: Service) => <ServiceCard service={service} />)}
      </div>
    </div>
  </div>
</section>
