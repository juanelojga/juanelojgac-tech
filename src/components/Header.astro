---
interface Props {
  lang: "en" | "es";
  primaryCtaLink?: string;
  secondaryCtaLink?: string;
  videoSrc?: string;
}

const {
  lang,
  primaryCtaLink = "#contact",
  secondaryCtaLink = "#about",
  videoSrc = "/hero-video.mp4",
} = Astro.props;

// Import translations
const translations = await import(`../i18n/${lang}.json`);
const t = translations.default.header;
---

<section
  class="bg-brand-darkest flex min-h-[740px] flex-col lg:flex-row lg:gap-20"
  aria-labelledby="header-headline"
>
  <!-- Left Column: Video with 50% opacity overlay -->
  <div class="relative h-[400px] w-full opacity-50 lg:h-auto lg:flex-1">
    <div class="absolute top-0 -left-[310px] h-[900px] w-[1600px]">
      <video
        autoplay
        loop
        muted
        playsinline
        class="h-full w-full max-w-none object-cover"
        aria-hidden="true"
      >
        <source src={videoSrc} type="video/mp4" />
      </video>
    </div>
  </div>

  <!-- Right Column: Content -->
  <div
    class="bg-neutral-darker flex w-full flex-col items-start justify-center px-8 py-16 lg:flex-1 lg:px-20"
  >
    <div class="flex w-full max-w-[560px] flex-col gap-8">
      <!-- Text Content -->
      <div class="flex flex-col gap-6 text-white">
        <h1
          id="header-headline"
          class="font-sora w-full text-6xl leading-[1.1] font-semibold tracking-[-0.64px]"
        >
          {t.headline}
        </h1>
        <p class="w-full text-xl leading-[1.5] font-normal">
          {t.description}
        </p>
      </div>

      <!-- Action Buttons -->
      <div class="flex flex-wrap items-start gap-4">
        <!-- Primary Button -->
        <a
          href={primaryCtaLink}
          class="text-neutral-darkest inline-flex items-center justify-center gap-2 rounded-full border border-white bg-white px-6 py-1.5 text-lg font-medium transition-colors hover:bg-white/90 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          aria-label={t.primaryButton}
        >
          {t.primaryButton}
        </a>

        <!-- Secondary Button -->
        <a
          href={secondaryCtaLink}
          class="inline-flex items-center justify-center gap-2 rounded-full border border-white/20 bg-transparent px-6 py-1.5 text-lg font-medium text-white transition-colors hover:border-white/40 hover:bg-white/5 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"
          aria-label={t.secondaryButton}
        >
          {t.secondaryButton}
        </a>
      </div>
    </div>
  </div>
</section>
